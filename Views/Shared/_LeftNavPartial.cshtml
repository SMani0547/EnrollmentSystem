@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <div class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
        <div class="position-sticky pt-3">
            <ul class="nav flex-column">
                @if (User.IsInRole("Student"))
                {
                    <li class="nav-item">
                        <a class="nav-link @(ViewContext.RouteData.Values["Action"]?.ToString() == "Index" ? "active" : "")"
                           asp-controller="Student" asp-action="Index">
                            <i class="bi bi-book"></i>
                            My Registrations
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(ViewContext.RouteData.Values["Action"]?.ToString() == "Invoices" ? "active" : "")"
                           asp-controller="Student" asp-action="Invoices">
                            <i class="bi bi-receipt"></i>
                            My Invoices
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(ViewContext.RouteData.Values["Action"]?.ToString() == "Grades" ? "active" : "")"
                           asp-controller="Student" asp-action="Grades">
                            <i class="bi bi-mortarboard"></i>
                            My Grades
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(ViewContext.RouteData.Values["Action"]?.ToString() == "Requirements" ? "active" : "")"
                           asp-controller="Student" asp-action="Requirements">
                            <i class="bi bi-list-check"></i>
                            My Program Requirements
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(ViewContext.RouteData.Values["Action"]?.ToString() == "Details" ? "active" : "")"
                           asp-controller="Student" asp-action="Details">
                            <i class="bi bi-person"></i>
                            My Details
                        </a>
                    </li>
                }
                else if (User.IsInRole("Manager"))
                {
                    <li class="nav-item">
                        <a class="nav-link @(ViewContext.RouteData.Values["Action"]?.ToString() == "Students" ? "active" : "")"
                           asp-controller="Manager" asp-action="Students">
                            <i class="bi bi-people"></i>
                            View All Students
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @(ViewContext.RouteData.Values["Action"]?.ToString() == "Programs" ? "active" : "")"
                           asp-controller="Manager" asp-action="Programs">
                            <i class="bi bi-diagram-3"></i>
                            All Program Structures
                        </a>
                    </li>
                }
            </ul>
        </div>
    </div>
} 